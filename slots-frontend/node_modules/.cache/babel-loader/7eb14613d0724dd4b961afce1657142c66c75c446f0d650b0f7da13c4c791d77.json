{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');// กำหนดค่า URL ของ API จาก environment variable (หากไม่มีจะใช้ localhost เป็นค่าเริ่มต้น)\nconst apiURL=process.env.REACT_APP_API_URL||'http://3.24.50.90:3000/api';const handleRegister=async()=>{if(password===confirmPassword){try{await axios.post(`${apiURL}/register-admin`,{username,password});alert(\"Registration successful! Please log in.\");window.location.href=\"/admin\";// เปลี่ยนเส้นทางไปที่หน้า Login\n}catch(error){console.error(\"Registration failed:\",error);alert(\"Registration failed. Please try again.\");}}else{alert(\"Passwords do not match!\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"auth-title\",children:\"Register Admin\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter username...\",value:username,onChange:e=>setUsername(e.target.value),className:\"auth-input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter password...\",value:password,onChange:e=>setPassword(e.target.value),className:\"auth-input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm password...\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),className:\"auth-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,className:\"auth-button\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"auth-link\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/admin\",children:\"LoginAdmin\"})]})]})});};export default Register;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Register","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","apiURL","process","env","REACT_APP_API_URL","handleRegister","post","alert","window","location","href","error","console","className","children","type","placeholder","value","onChange","e","target","onClick"],"sources":["/app/src/components/RegisterAdmin.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './Auth.css';\n\nconst Register: React.FC = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n\n  // กำหนดค่า URL ของ API จาก environment variable (หากไม่มีจะใช้ localhost เป็นค่าเริ่มต้น)\n  const apiURL = process.env.REACT_APP_API_URL || 'http://3.24.50.90:3000/api';\n\n  const handleRegister = async () => {\n    if (password === confirmPassword) {\n      try {\n        await axios.post(`${apiURL}/register-admin`, { username, password });\n        alert(\"Registration successful! Please log in.\");\n        window.location.href = \"/admin\"; // เปลี่ยนเส้นทางไปที่หน้า Login\n      } catch (error) {\n        console.error(\"Registration failed:\", error);\n        alert(\"Registration failed. Please try again.\");\n      }\n    } else {\n      alert(\"Passwords do not match!\");\n    }\n  };\n\n  return (\n    <div className=\"auth-background\">\n      <div className=\"auth-container\">\n        <h1 className=\"auth-title\">Register Admin</h1>\n        <input\n          type=\"text\"\n          placeholder=\"Enter username...\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          className=\"auth-input\"\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Enter password...\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          className=\"auth-input\"\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Confirm password...\"\n          value={confirmPassword}\n          onChange={(e) => setConfirmPassword(e.target.value)}\n          className=\"auth-input\"\n        />\n        <button onClick={handleRegister} className=\"auth-button\">Register</button>\n        <p className=\"auth-link\">Already have an account? <a href=\"/admin\">LoginAdmin</a></p>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpB,KAAM,CAAAC,QAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,eAAe,CAAEC,kBAAkB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE1D;AACA,KAAM,CAAAa,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,4BAA4B,CAE5E,KAAM,CAAAC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAIR,QAAQ,GAAKE,eAAe,CAAE,CAChC,GAAI,CACF,KAAM,CAAAV,KAAK,CAACiB,IAAI,CAAC,GAAGL,MAAM,iBAAiB,CAAE,CAAEN,QAAQ,CAAEE,QAAS,CAAC,CAAC,CACpEU,KAAK,CAAC,yCAAyC,CAAC,CAChDC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CAAE;AACnC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CJ,KAAK,CAAC,wCAAwC,CAAC,CACjD,CACF,CAAC,IAAM,CACLA,KAAK,CAAC,yBAAyB,CAAC,CAClC,CACF,CAAC,CAED,mBACEhB,IAAA,QAAKsB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BrB,KAAA,QAAKoB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvB,IAAA,OAAIsB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC9CvB,IAAA,UACEwB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAEtB,QAAS,CAChBuB,QAAQ,CAAGC,CAAC,EAAKvB,WAAW,CAACuB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7CJ,SAAS,CAAC,YAAY,CACvB,CAAC,cACFtB,IAAA,UACEwB,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAEpB,QAAS,CAChBqB,QAAQ,CAAGC,CAAC,EAAKrB,WAAW,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7CJ,SAAS,CAAC,YAAY,CACvB,CAAC,cACFtB,IAAA,UACEwB,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,qBAAqB,CACjCC,KAAK,CAAElB,eAAgB,CACvBmB,QAAQ,CAAGC,CAAC,EAAKnB,kBAAkB,CAACmB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACpDJ,SAAS,CAAC,YAAY,CACvB,CAAC,cACFtB,IAAA,WAAQ8B,OAAO,CAAEhB,cAAe,CAACQ,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1ErB,KAAA,MAAGoB,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,2BAAyB,cAAAvB,IAAA,MAAGmB,IAAI,CAAC,QAAQ,CAAAI,QAAA,CAAC,YAAU,CAAG,CAAC,EAAG,CAAC,EAClF,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}